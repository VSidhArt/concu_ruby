# Concu Ruby
Simple project for play `Concurrency` в `Ruby`.

## Подготовка

- install ruby 2.6.1
- bundle install

## Сервер
В комплект входит сервер, написанный на `Falcon`.

Его надо запускать командой `falcon serve -c config.ru --threaded`
Именно в режиме `threaded`.

Сервер предоставляет три эндпоинта: `a`, `b`, `c`.

- `a` отвечает за `1 секунду`
- `b` отвечает за `2 секунды`
- `c` отвечает за `3 секунды`

### Защита от перегрева
Эндпоинты можно вызывать несколько раз одновременно, но в них есть "защита от перегрева".

Если эндпоинт вызывается слишком интенсивно, то запрос, вызвавший перегрев, засыпает на длительное время, чтобы дать серверу охладится. После завершения ожидания клиент получает корректный ответ.

Ограничения на перегрев такие:

- `a` - одновременно может выполняться `3 экземпляра`
- `b` - одновременно может выполняться `2 экземпляра`
- `c` - одновременно может выполняться `1 экземпляр`

## Клиент
В комплект входит и клиент, который корректно решает поставленную задачу.
Он делает несколько запросов к серверу, как-то их комбинирует и выводит результат.

## Задача
Проблема в том, что референсное решение отработывает примерно `19,5 секунд`, а в задании требуется уложиться в `7 секунд`.

